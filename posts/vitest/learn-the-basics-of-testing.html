<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="author" content="Lrsoy_"><link rel="icon" type="image/svg+xml" href="/book.svg"><meta name="viewport" content="width=device-width,initial-scale=1"><title>学习单元测试-Vitest 基础以及调试技巧</title><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" crossorigin="" src="/assets/app.f5b5750f.js"></script><link rel="stylesheet" href="/assets/index.8cbf60a0.css"><link rel="modulepreload" crossorigin="" href="/assets/learn-the-basics-of-testing.80f89fd7.js"><meta name="description" content="Ying Lau's Taking notes"><meta property="og:title" content="学习单元测试-Vitest 基础以及调试技巧"><meta name="head:count" content="2"></head><body><div id="app" data-server-rendered="true"><!--[--><header><nav><a href="/" class="" title="Blog"><span>/</span></a><a href="/posts" class="" title="Blog"><span>知识汇总</span></a><a href="https://www.instagram.com/lrsoy_/" target="_blank" title="Instagram"><svg width="1.3em" height="1.3em" viewBox="0 0 512 512"><path fill="currentColor" d="M349.33 69.33a93.62 93.62 0 0 1 93.34 93.34v186.66a93.62 93.62 0 0 1-93.34 93.34H162.67a93.62 93.62 0 0 1-93.34-93.34V162.67a93.62 93.62 0 0 1 93.34-93.34h186.66m0-37.33H162.67C90.8 32 32 90.8 32 162.67v186.66C32 421.2 90.8 480 162.67 480h186.66C421.2 480 480 421.2 480 349.33V162.67C480 90.8 421.2 32 349.33 32Z"></path><path fill="currentColor" d="M377.33 162.67a28 28 0 1 1 28-28a27.94 27.94 0 0 1-28 28ZM256 181.33A74.67 74.67 0 1 1 181.33 256A74.75 74.75 0 0 1 256 181.33m0-37.33a112 112 0 1 0 112 112a112 112 0 0 0-112-112Z"></path></svg></a><a href="https://github.com/lrsoy" target="_blank" title="Github"><svg width="1.3em" height="1.3em" viewBox="0 0 24 24"><path fill="currentColor" d="M10.07 20.503a1 1 0 0 0-1.18-.983c-1.31.24-2.963.276-3.402-.958a5.708 5.708 0 0 0-1.837-2.415a1.2 1.2 0 0 1-.167-.11a1 1 0 0 0-.93-.645h-.005a1 1 0 0 0-1 .995c-.004.815.81 1.338 1.141 1.514a4.44 4.44 0 0 1 .924 1.36c.365 1.023 1.423 2.576 4.466 2.376l.003.098l.004.268a1 1 0 0 0 2 0l-.005-.318c-.005-.19-.012-.464-.012-1.182ZM20.737 5.377a5.39 5.39 0 0 0 .09-.42a6.278 6.278 0 0 0-.408-3.293a1.002 1.002 0 0 0-.615-.58c-.356-.12-1.67-.357-4.184 1.25a13.87 13.87 0 0 0-6.354 0C6.762.75 5.455.966 5.102 1.079a.997.997 0 0 0-.631.584a6.3 6.3 0 0 0-.404 3.357c.025.127.051.246.079.354a6.27 6.27 0 0 0-1.256 3.83a8.422 8.422 0 0 0 .043.921c.334 4.603 3.334 5.984 5.424 6.459a4.591 4.591 0 0 0-.118.4a1 1 0 0 0 1.942.479a1.678 1.678 0 0 1 .468-.878a1 1 0 0 0-.546-1.745c-3.454-.395-4.954-1.802-5.18-4.899a6.61 6.61 0 0 1-.033-.738a4.258 4.258 0 0 1 .92-2.713a3.022 3.022 0 0 1 .195-.231a1 1 0 0 0 .188-1.025a3.388 3.388 0 0 1-.155-.555a4.094 4.094 0 0 1 .079-1.616a7.543 7.543 0 0 1 2.415 1.18a1.009 1.009 0 0 0 .827.133a11.777 11.777 0 0 1 6.173.001a1.005 1.005 0 0 0 .83-.138a7.572 7.572 0 0 1 2.406-1.19a4.04 4.04 0 0 1 .087 1.578a3.205 3.205 0 0 1-.169.607a1 1 0 0 0 .188 1.025c.078.087.155.18.224.268A4.122 4.122 0 0 1 20 9.203a7.039 7.039 0 0 1-.038.777c-.22 3.056-1.725 4.464-5.195 4.86a1 1 0 0 0-.546 1.746a1.63 1.63 0 0 1 .466.908a3.06 3.06 0 0 1 .093.82v2.333c-.01.648-.01 1.133-.01 1.356a1 1 0 1 0 2 0c0-.217 0-.692.01-1.34v-2.35a4.881 4.881 0 0 0-.155-1.311a4.256 4.256 0 0 0-.116-.416a6.513 6.513 0 0 0 5.445-6.424A8.697 8.697 0 0 0 22 9.203a6.13 6.13 0 0 0-1.263-3.826Z"></path></svg></a><a class="select-none" title="Toggle Color Scheme"><svg width="1.3em" height="1.3em" viewBox="0 0 16 16" style=""><path fill="currentColor" d="M8 13a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0v-1a1 1 0 0 1 1-1zM8 3a1 1 0 0 1-1-1V1a1 1 0 0 1 2 0v1a1 1 0 0 1-1 1zm7 4a1 1 0 0 1 0 2h-1a1 1 0 0 1 0-2h1zM3 8a1 1 0 0 1-1 1H1a1 1 0 0 1 0-2h1a1 1 0 0 1 1 1zm9.95 3.536l.707.707a1 1 0 0 1-1.414 1.414l-.707-.707a1 1 0 0 1 1.414-1.414zm-9.9-7.072l-.707-.707a.999.999 0 1 1 1.414-1.414l.707.707A.999.999 0 1 1 3.05 4.464zm9.9 0a.999.999 0 1 1-1.414-1.414l.707-.707a.999.999 0 1 1 1.414 1.414l-.707.707zm-9.9 7.072a1 1 0 0 1 1.414 1.414l-.707.707a1 1 0 0 1-1.414-1.414l.707-.707zM8 4a4 4 0 1 0 0 8a4 4 0 0 0 0-8zm0 6.5a2.5 2.5 0 1 1 0-5a2.5 2.5 0 0 1 0 5z"></path></svg><svg width="1.3em" height="1.3em" viewBox="0 0 32 32" style="display:none"><path fill="currentColor" d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"></path></svg></a></nav></header><main class="px-7 py-10"><div class="svg-bg"></div><!--[--><div class="titles prose"><h1 class="mb-0">学习单元测试-Vitest 基础以及调试技巧</h1><p class="opacity-50 !-mt-2">Apr 30</p><!----></div><article><!--[--><div class="prose m-auto"><p></p><div class="table-of-contents"><ul><li><a href="#一、手动与自动化测试的关系">一、手动与自动化测试的关系</a></li><li><a href="#二、前期准备工作">二、前期准备工作</a></li><li><a href="#三、vitest核心api">三、Vitest核心API</a></li><li><a href="#四、相关插件的安装-针对vscode">四、相关插件的安装( 针对Vscode)</a></li><li><a href="#五、vitest-调试技巧">五、Vitest 调试技巧</a></li></ul></div><p></p><h2 id="一、手动与自动化测试的关系" tabindex="-1">一、手动与自动化测试的关系 <a class="header-anchor" href="#一、手动与自动化测试的关系" aria-hidden="true">#</a></h2><h2 id="二、前期准备工作" tabindex="-1">二、前期准备工作 <a class="header-anchor" href="#二、前期准备工作" aria-hidden="true">#</a></h2><h2 id="三、vitest核心api" tabindex="-1">三、Vitest核心API <a class="header-anchor" href="#三、vitest核心api" aria-hidden="true">#</a></h2><ol><li>test与it</li></ol><pre class="shiki" style="background-color:#282a36"><code><span class="line"><span style="color:#6272a4">// 区别</span></span>
<span class="line"><span style="color:#bd93f9">1.</span><span style="color:#f8f8f2"> 从功能上没有任何的区别</span></span>
<span class="line"><span style="color:#bd93f9">2.</span><span style="color:#f8f8f2"> it </span><span style="color:#50fa7b">来自于BDD</span><span style="color:#f8f8f2">(行为驱动开发)，在TDD的基础之上，进行延伸和扩展，要求开发人员在书写测试时候按照以下方式描述测试行为</span></span>
<span class="line"><span style="color:#f8f8f2">   it should xxx xxx</span></span>
<span class="line"><span style="color:#bd93f9">3.</span><span style="color:#f8f8f2"> test 来自于Jest框架，</span></span>
<span class="line"></span></code></pre><ol start="2"><li>describe</li></ol><pre class="shiki" style="background-color:#282a36"><code><span class="line"><span style="color:#6272a4">// 作用</span></span>
<span class="line"><span style="color:#bd93f9">1.</span><span style="color:#f8f8f2"> describe 测试套件，用于将相关的测试组合在一起，当一个功能有多个测试的点，可以将他们组合在一起，把相同的行为测试组合在一起。</span></span>
<span class="line"><span style="color:#f8f8f2">例子： </span></span>
<span class="line"><span style="color:#50fa7b">describe</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">''</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#50fa7b">it</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">''</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{});</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#50fa7b">it</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">''</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{});</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#bd93f9">2.</span><span style="color:#f8f8f2"> 可以控制这一组测试是不是需要跳过等等</span></span>
<span class="line"><span style="color:#f8f8f2">describe.</span><span style="color:#50fa7b">skip</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">''</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{}) </span><span style="color:#6272a4">// 表示跳过当前这一组测试，不执行</span></span>
<span class="line"><span style="color:#f8f8f2">describe.</span><span style="color:#50fa7b">only</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">''</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{}) </span><span style="color:#6272a4">// 只执行当前测试套件里面的内容，不执行其他套件里面的内容</span></span>
<span class="line"></span>
<span class="line"><span style="color:#bd93f9">3.</span><span style="color:#f8f8f2"> describe 可以进行嵌套使用，但是嵌套的层数最多3层，再多就可能是测试代码组织有问题。</span></span>
<span class="line"></span></code></pre><ol start="3"><li>expect断言</li></ol><pre class="shiki" style="background-color:#282a36"><code><span class="line"><span style="color:#6272a4">// 常用的实例</span></span>
<span class="line"><span style="color:#bd93f9">1.</span><span style="color:#f8f8f2"> toBe 相当于全等的概念，</span><span style="color:#50fa7b">expect</span><span style="color:#f8f8f2">(</span><span style="color:#bd93f9">1</span><span style="color:#f8f8f2">)</span><span style="color:#50fa7b">里面的值是否全等</span><span style="color:#f8f8f2">(</span><span style="color:#ff79c6">===</span><span style="color:#f8f8f2">)</span><span style="color:#50fa7b">toBe</span><span style="color:#f8f8f2">(</span><span style="color:#bd93f9">1</span><span style="color:#f8f8f2">)里面的内容</span></span>
<span class="line"><span style="color:#50fa7b">it</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">toBe</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#50fa7b">expect</span><span style="color:#f8f8f2">(</span><span style="color:#bd93f9">1</span><span style="color:#f8f8f2">).</span><span style="color:#50fa7b">toBe</span><span style="color:#f8f8f2">(</span><span style="color:#bd93f9">1</span><span style="color:#f8f8f2">);</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#bd93f9">2.</span><span style="color:#f8f8f2"> toEqual 常用于两个对象之间的比较</span></span>
<span class="line"><span style="color:#50fa7b">it</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">toEqual</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#ff79c6">const</span><span style="color:#f8f8f2"> User </span><span style="color:#ff79c6">=</span><span style="color:#f8f8f2"> {</span></span>
<span class="line"><span style="color:#f8f8f2">        name</span><span style="color:#ff79c6">:</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">小红</span><span style="color:#e9f284">'</span></span>
<span class="line"><span style="color:#f8f8f2">    }</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#50fa7b">expect</span><span style="color:#f8f8f2">(User).</span><span style="color:#50fa7b">toEqual</span><span style="color:#f8f8f2">({</span></span>
<span class="line"><span style="color:#f8f8f2">        name</span><span style="color:#ff79c6">:</span><span style="color:#f8f8f2"> </span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">小红</span><span style="color:#e9f284">'</span></span>
<span class="line"><span style="color:#f8f8f2">    })</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#bd93f9">3.</span><span style="color:#f8f8f2"> toBeTruthy与toBeFalsy </span><span style="color:#50fa7b">常用于检测数据返回的是不是真</span><span style="color:#f8f8f2">(假)，返回的内容不关心</span></span>
<span class="line"><span style="color:#50fa7b">it</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">''</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#50fa7b">expect</span><span style="color:#f8f8f2">(</span><span style="color:#bd93f9">1</span><span style="color:#f8f8f2">).</span><span style="color:#50fa7b">toBeTruthy</span><span style="color:#f8f8f2">();</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#50fa7b">expect</span><span style="color:#f8f8f2">(</span><span style="color:#bd93f9">1</span><span style="color:#f8f8f2">).</span><span style="color:#50fa7b">toBeFalsy</span><span style="color:#f8f8f2">();</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#bd93f9">4.</span><span style="color:#f8f8f2"> toContain </span><span style="color:#50fa7b">检测数组或者是字符串</span><span style="color:#f8f8f2">(string) 里面是否包含某一个值</span></span>
<span class="line"><span style="color:#50fa7b">it</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">toContain</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#50fa7b">expect</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">&lt;div&gt;1234&lt;/div&gt;</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">).</span><span style="color:#50fa7b">toContain</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">1234</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">);</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#bd93f9">5.</span><span style="color:#f8f8f2"> toThrow 检测函数会不会抛出错误</span></span>
<span class="line"><span style="color:#50fa7b">it</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">toThrow</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#ff79c6">function</span><span style="color:#f8f8f2"> </span><span style="color:#50fa7b">getName</span><span style="color:#f8f8f2">(</span><span style="color:#ffb86c;font-style:italic">name</span><span style="color:#f8f8f2">){</span></span>
<span class="line"><span style="color:#f8f8f2">        </span><span style="color:#ff79c6">if</span><span style="color:#f8f8f2">(</span><span style="color:#ff79c6">typeof</span><span style="color:#f8f8f2"> name </span><span style="color:#ff79c6">===</span><span style="color:#f8f8f2"> </span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">string</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">) {</span></span>
<span class="line"><span style="color:#f8f8f2">           </span><span style="color:#ff79c6">throw</span><span style="color:#f8f8f2"> </span><span style="color:#ff79c6;font-weight:700">new</span><span style="color:#f8f8f2"> </span><span style="color:#8be9fd;font-style:italic">Error</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">"</span><span style="color:#f1fa8c">错误的name</span><span style="color:#e9f284">"</span><span style="color:#f8f8f2">)</span></span>
<span class="line"><span style="color:#f8f8f2">        }</span></span>
<span class="line"><span style="color:#f8f8f2">        </span><span style="color:#ff79c6">return</span><span style="color:#f8f8f2"> </span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">hei</span><span style="color:#e9f284">'</span></span>
<span class="line"><span style="color:#f8f8f2">    }</span></span>
<span class="line"><span style="color:#f8f8f2">    </span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#50fa7b">expect</span><span style="color:#f8f8f2">(() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{ </span><span style="color:#6272a4">// 测试函数比较特殊，需要传递函数在函数里面进行调用</span></span>
<span class="line"><span style="color:#f8f8f2">        </span><span style="color:#50fa7b">getName</span><span style="color:#f8f8f2">(</span><span style="color:#bd93f9">1111</span><span style="color:#f8f8f2">)</span></span>
<span class="line"><span style="color:#f8f8f2">    }).</span><span style="color:#50fa7b">toThrow</span><span style="color:#f8f8f2">()</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><ul><li>Vitest expect - <a href="https://cn.vitest.dev/api/expect.html" target="_blank" rel="noopener">相关API配置</a></li></ul><ol start="4"><li>setup &amp; teardown</li></ol><pre class="shiki" style="background-color:#282a36"><code><span class="line"><span style="color:#ff79c6">import</span><span style="color:#f8f8f2"> { beforeEach,beforeAll,afterEach,afterAll } </span><span style="color:#ff79c6">from</span><span style="color:#f8f8f2"> </span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">vitest</span><span style="color:#e9f284">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#bd93f9">1.</span><span style="color:#f8f8f2"> 他们执行的顺序</span></span>
<span class="line"><span style="color:#f8f8f2">beforeEach：在一个测试开始之前执行（和每一个测试kas 相关的，简单点就是和每一个 it 相关的）</span></span>
<span class="line"><span style="color:#f8f8f2">beforeAll: 在所有测试之前执行，在一开始的时候，只执行一次</span></span>
<span class="line"><span style="color:#f8f8f2">afterEach：在一个 it 或者是 test 执行完毕执行</span></span>
<span class="line"><span style="color:#f8f8f2">afterAll：在所有 it 或者是 所有的test 执行完毕执行，只执行一次</span></span>
<span class="line"><span style="color:#6272a4">// 例子：</span></span>
<span class="line"><span style="color:#50fa7b">beforeAll</span><span style="color:#f8f8f2">(() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    console.</span><span style="color:#50fa7b">log</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">在所有 it / test 之前进行执行</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">)</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#6272a4">// 特殊性，可以直接return一个函数，此函数就代表了afterAll,与正常书写执行顺序是相同的</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#ff79c6">return</span><span style="color:#f8f8f2"> () </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{ </span><span style="color:#6272a4">//afterAll</span></span>
<span class="line"><span style="color:#f8f8f2">       console.</span><span style="color:#50fa7b">log</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">afterAll</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">)</span></span>
<span class="line"><span style="color:#f8f8f2">    }</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"><span style="color:#50fa7b">beforeEach</span><span style="color:#f8f8f2">(() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    console.</span><span style="color:#50fa7b">log</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">在每一个it / test 之前进行调用</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">)</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#6272a4">// 特殊性，可以直接return一个函数，此函数就代表了afterEach,与正常书写执行顺序是相同的</span></span>
<span class="line"><span style="color:#f8f8f2">    </span><span style="color:#ff79c6">return</span><span style="color:#f8f8f2"> () </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{ </span><span style="color:#6272a4">//afterEach</span></span>
<span class="line"><span style="color:#f8f8f2">       console.</span><span style="color:#50fa7b">log</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">afterEach</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">)</span></span>
<span class="line"><span style="color:#f8f8f2">    }</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"><span style="color:#50fa7b">test</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">""</span><span style="color:#f8f8f2">,() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    console.</span><span style="color:#50fa7b">log</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">1</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">)</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"><span style="color:#50fa7b">afterEach</span><span style="color:#f8f8f2">(() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    console.</span><span style="color:#50fa7b">log</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">在每一个it / test 结束后进行调用</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">)</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"><span style="color:#50fa7b">afterAll</span><span style="color:#f8f8f2">(() </span><span style="color:#ff79c6">=&gt;</span><span style="color:#f8f8f2">{</span></span>
<span class="line"><span style="color:#f8f8f2">    console.</span><span style="color:#50fa7b">log</span><span style="color:#f8f8f2">(</span><span style="color:#e9f284">'</span><span style="color:#f1fa8c">在所有 it / test 之后进行执行</span><span style="color:#e9f284">'</span><span style="color:#f8f8f2">)</span></span>
<span class="line"><span style="color:#f8f8f2">})</span></span>
<span class="line"></span></code></pre><ol start="5"><li>filter 过滤器(筛选想要执行的测试或者是不想要执行的测试)</li></ol><h2 id="四、相关插件的安装-针对vscode" tabindex="-1">四、相关插件的安装( 针对Vscode) <a class="header-anchor" href="#四、相关插件的安装-针对vscode" aria-hidden="true">#</a></h2><ol><li>Vitest Snippets 快速生成模板</li><li>Vitest Runner</li><li>Jest Sbippets（推荐安装）</li><li>Jest Runner（推荐安装）</li></ol><h2 id="五、vitest-调试技巧" tabindex="-1">五、Vitest 调试技巧 <a class="header-anchor" href="#五、vitest-调试技巧" aria-hidden="true">#</a></h2></div><!--]--></article><div class="go-back prose"><a href="/posts/vitest" class="font-mono no-underline opacity-50 hover:opacity-75">cd ..</a></div><!--]--></main><!--]--></div></body></html>